import{_ as v,v as V,d as D,o as g,c as P,a as _,t as F,n as N,x as X,r as i,F as Z,y as ee,z as S,k as y,A as te,B as ae,C as oe,j as T,D as ne,b as a,L as G,E as M,G as W,w as m,e as Y,H as J,I as re}from"./index.2d078062.js";import{i as se}from"./echarts.1bb18b93.js";import{u as O,g as K,a as le,b as ie}from"./table.b6bd7b42.js";import{T as R}from"./index.75b94a68.js";import{g as U,d as x,a as H}from"./codeeditapi.b7d522e7.js";import{g as ue}from"./useradd.29bbda1c.js";import{h as q}from"./moment.40bc58bf.js";const de={};function ce(e,t){return null}var pe=v(de,[["render",ce]]);function me(e){return V({url:"/get/profithreadtoday?merchantUid=&agentUid=&supplierUid=&payType=&startTime=&endTime=",method:"post"})}function j(e){return V({url:"/get/roolero",method:"post"})}const he=D({props:{row:{type:Object,default:()=>({})}},setup(e){}}),fe={class:"card-left"},ge={class:"name"},ye={class:"detail"},_e={class:"card-right"};function be(e,t,n,o,s,u){return g(),P("div",{class:"card",style:X({borderColor:e.row.color})},[_("div",fe,[_("div",ge,F(e.row.name),1),_("div",ye,F(e.row.data),1)]),_("div",_e,[_("i",{class:N(e.row.icon)},null,2)])],4)}var ve=v(he,[["render",be],["__scopeId","data-v-34b5518b"]]);const De=D({data(){return{list:[]}},components:{Row:ve},created(){this.getdata()},setup(){return{}},methods:{getdata(){me().then(e=>{this.list=[{id:16,name:"\u4ECA\u65E5\u4E0B\u5355\u7B14\u6570",data:e.AgentTotalProfitutf.TodayTotal,color:"#4e73df",icon:"sfont system-yonghu"},{id:15,name:"\u4ECA\u65E5\u4E0B\u5355\u91D1\u989D",data:e.AgentTotalProfitutf.TodaySubmit,color:"#4e73df",icon:"sfont system-yonghu"},{id:14,name:"\u4ECA\u65E5\u6210\u529F\u7B14\u6570",data:e.AgentTotalProfitutf.Successcount,color:"#4e73df",icon:"sfont system-yonghu"},{id:13,name:"\u4ECA\u65E5\u6210\u529F\u91D1\u989D",data:e.AgentTotalProfitutf.TodaySuccess,color:"#4e73df",icon:"sfont system-yonghu"},{id:12,name:"\u6628\u65E5\u4E0B\u5355\u7B14\u6570",data:e.AgentTotalProfitutf.YesterdayCount,color:"#4e73df",icon:"sfont system-yonghu"},{id:11,name:"\u6628\u5929\u4E0B\u5355\u91D1\u989D",data:e.AgentTotalProfitutf.YesterdaySubmit,color:"#4e73df",icon:"sfont system-yonghu"},{id:10,name:"\u6628\u5929\u6210\u529F\u7B14\u6570",data:e.AgentTotalProfitutf.Yessuccesscount,color:"#4e73df",icon:"sfont system-yonghu"},{id:9,name:"\u6628\u5929\u6210\u529F\u91D1\u989D",data:e.AgentTotalProfitutf.YesterdayProfit,color:"#4e73df",icon:"sfont system-yonghu"},{id:1,name:"\u4ECA\u65E5\u5E73\u53F0\u5229\u6DA6",data:e.AgentTotalProfitutf.TodayProfit,color:"#4e73df",icon:"sfont system-yonghu"},{id:2,name:"\u6628\u65E5\u5E73\u53F0\u5229\u6DA6",data:e.AgentTotalProfitutf.YesterdayTotal,color:"#1cc88a",icon:"sfont system-xiaoxi"},{id:3,name:"\u5F53\u6708\u8425\u6536",data:e.AgentTotalProfitutf.ThisMonthSuccessAmount,color:"#36b9cc",icon:"sfont system-shuliang_mianxing"},{id:4,name:"\u4E0A\u6708\u8425\u6536",data:e.AgentTotalProfitutf.LastMonthSuccessAmount,color:"#f6c23e",icon:"sfont system-jindutiaoshouyidaozhang"}],this.datalist=e})}}}),Ce={class:"card-list"};function Ee(e,t,n,o,s,u){const l=i("Row");return g(),P("div",Ce,[(g(!0),P(Z,null,ee(e.list,r=>(g(),S(l,{key:r.id,row:r},null,8,["row"]))),128))])}var Pe=v(De,[["render",Ee],["__scopeId","data-v-31ebc756"]]);const $e=D({__name:"index",props:{option:Object},setup(e){const t=e,n=y(null);return te(()=>{const o=n.value;if(o){let s=t.option,u=se(o);u.setOption(s),ae("resize",()=>u.resize()),oe(()=>t.option,l=>{u.setOption(l)},{deep:!0})}}),(o,s)=>(g(),P("div",{ref_key:"chart",ref:n,class:"chart"},null,512))}});var Q=v($e,[["__scopeId","data-v-930fc37a"]]),Fe=[],Te=[0,0,0,0,0,0,0,0,0,0,0,0],Se=[0,0,0,0,0,0,0,0,0,0,0,0],we=[0,0,0,0,0,0,0,0,0,0,0,0],B=["\u5229\u6DA6","\u8BA2\u5355\u7B14\u6570","\u5B9E\u9645\u652F\u4ED8\u91D1\u989D"],z=["#4D8EFF","#84BFFF","#FE9D9A"];const L={tooltip:{trigger:"axis",formatter:function(e,t,n){for(var o="",s=0;s<e.length;s++){var u=e[s],l=u.name,r=u.seriesName,h=u.value,f=u.color;s===0&&(o+=l+"<br/>"),o+="<div>",o+='<span style="margin-right:5px;display:inline-block;width:10px;height:10px;border-radius:5px;background-color:'+f+';"></span>',o+=r+"\uFF1A"+h,o+="</div>"}return o}},grid:{top:"20%",left:"1%",right:"1%",bottom:"1%",containLabel:!0},legend:{top:"5%",data:B},xAxis:{type:"category",data:Fe,axisLine:{lineStyle:{type:"solid",color:"#E3E3E3",width:"2"}},axisLabel:{formatter:"{value}"},textStyle:{fontSize:12,fontFamily:"PingFang SC",fontWeight:400,lineHeight:17,color:"#646464",opacity:1},axisTick:{show:!1}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:"{value}"},textStyle:{fontSize:12,fontFamily:"PingFang SC",fontWeight:400,lineHeight:17,color:"#979A9F",opacity:1},splitLine:{lineStyle:{type:"dashed",width:2,color:["#E3E3E3"]}}},series:[{type:"bar",name:B[1],data:Te,symbolSize:9,itemStyle:{color:z[0]},lineStyle:{width:2,type:"solid"}},{type:"bar",name:B[2],data:Se,symbolSize:9,itemStyle:{color:z[1]},lineStyle:{width:2,type:"solid"}},{type:"line",name:B[0],data:we,symbolSize:9,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#fe9d9a66"},{offset:1,color:"#fe9d9a00"}],global:!1}},color:z[2],lineStyle:{width:2,type:"solid"}}]};const Ae=D({data(){return{mydata:[],datalist:[],podata:[],datayear:[]}},components:{Chart:Q},created(){this.getProduct()},setup(){let e=null;const t=[],n=T(L);return e=setTimeout(()=>{n.series[2].data=t},1e3),ne(()=>{clearInterval(e),e=null}),{options:n,uid:O}},methods:{getProduct(){O().then(e=>{this.mydata=e.Totalv,this.mydata.forEach(t=>{console.log(t.OrderAmount),this.datalist.push(t.OrderAmount),this.podata.push(t.OrderCount),this.datayear.push(t.Data),L.series[0].data=this.podata,L.series[1].data=this.datalist,L.xAxis.data=this.datayear})})}}}),xe={class:"box"};function Be(e,t,n,o,s,u){const l=i("Chart");return g(),P("div",xe,[a(l,{option:e.options},null,8,["option"])])}var Le=v(Ae,[["render",Be],["__scopeId","data-v-d9537b92"]]);const Re=D({data(){return{myData:[],myDatav:[],table:[],tableDatak:[],resultArray:[],countsize:0}},components:{Table:R,Layer:G},props:{layer:{type:Object,default:()=>({show:!1,title:"",showButton:!0})}},setup(e,t){const n=($,w)=>{$.map(b=>b.RoadUid).join(","),r&&r.close()},o=y(!0),s=y([]),u=y([]),l=y(null),r=y(null);let h=y({Userid:"",RoadUid:"",RoadName:"",RoadRemark:"",ProductName:"",PayType:"",BasicRate:"",SettleFee:"",RoadTotalLimit:"",RoadEverydayLimit:"",SingleMinLimit:"",SingleMaxLimit:"",StartHour:"0",EndHour:"23",Params:"",roadPoolCode:[],uidcode:"",MerchantName:"",MerchantUid:"",AgentName:"",SupplierName:"",PayTypeName:"",PayTypeCode:""});const f=$=>{u.value=$},d=T({input:"",startTime:q().format("YYYY-MM-DD 00:00:00"),endTime:q().format("YYYY-MM-DD HH:mm:ss"),merchantName:"",PayType:""}),C=$=>{o.value=!0,$&&(c.index=1);let w={form:h,...d};ue(w).then(b=>{s.value=b.ProfitList}).catch(b=>{s.value=[],c.index=1,c.total=0}).finally(()=>{o.value=!1})},c=T({index:1,size:20,total:0}),E={roadUid:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D",trigger:"blur"}]};p();function p(){e.layer.row&&(d.PayType=e.layer.row[0].MerchantUid,h.value=JSON.parse(JSON.stringify(e.layer.row)))}return C(!0),{form:h,rules:E,layerDom:r,ruleForm:l,page:c,loading:o,tableData:s,getTableData:C,Table:R,getDatalunxun:U,handleSelectionChange:f,query:d,handleDel:n,chooseData:u,deltongdao:x}},methods:{submit(e,t){let n={roadPoolCode:e.map(o=>o.RoadUid).join(","),uidcode:t};x(n).then(o=>{M({type:"success",message:"\u901A\u9053\u914D\u7F6E\u6210\u529F"}),this.getTableData(this.tableData.value.length===1)})},getProductv(){K().then(e=>{this.myData=e.ProductMap})},addForm(e){this.layerDom&&this.layerDom.close()},updateForm(e){this.layerDom&&this.layerDom.close()}},watch:{active:{handler(e,t){this.$nextTick(()=>{e=="6"?this.table.forEach((n,o)=>{n.type=="1"&&this.$refs.table.toggleRowSelection(this.tableData[1],!0)}):e=="7"&&this.table.forEach((n,o)=>{n.type=="1"&&this.$refs.table.toggleRowSelection(this.tableData[1],!0)})})},immediate:!0,deep:!0}}}),ke={class:"layout-container-form flex space-between"},ze={class:"system-user-search mb15"},Ne={class:"layout-container-table"};function Me(e,t,n,o,s,u){const l=i("el-date-picker"),r=i("el-form-item"),h=i("el-button"),f=i("el-form"),d=i("el-table-column"),C=i("el-table"),c=i("Layer"),E=W("loading");return g(),S(c,{layer:e.layer,onConfirm:t[4]||(t[4]=p=>e.submit(e.chooseData,e.query.roadPoolCode)),ref:"layerDom"},{default:m(()=>[a(f,{model:e.form,rules:e.rules,ref:"ruleForm","label-width":"120px",style:{"margin-right":"30px"}},{default:m(()=>[_("div",ke,[_("div",ze,[a(f,{model:e.query.input,ref:"queryRef",inline:!0,"label-width":"85px",style:{"text-align":"left"}},{default:m(()=>[a(r,{label:"\u5F00\u59CB\u65F6\u95F4",prop:"ipaddr",style:{"margin-top":"15px"}},{default:m(()=>[a(l,{ref:"datedate",modelValue:e.query.startTime,"onUpdate:modelValue":t[0]||(t[0]=p=>e.query.startTime=p),"value-format":"YYYY-MM-DD HH:mm:ss",type:"datetime",placeholder:"\u9009\u62E9\u65E5\u671F\u65F6\u95F4"},null,8,["modelValue"])]),_:1}),a(r,{label:"\u7ED3\u675F\u65F6\u95F4",prop:"loginLocation",style:{"margin-top":"15px"}},{default:m(()=>[a(l,{ref:"datedate",modelValue:e.query.endTime,"onUpdate:modelValue":t[1]||(t[1]=p=>e.query.endTime=p),"value-format":"YYYY-MM-DD HH:mm:ss",type:"datetime",placeholder:"\u9009\u62E9\u65E5\u671F\u65F6\u95F4"},null,8,["modelValue"])]),_:1}),a(r,null,{default:m(()=>[a(h,{type:"primary",icon:e.Search,class:"search-btn",onClick:t[2]||(t[2]=p=>e.getTableData(!0))},{default:m(()=>[Y(F(e.$t("message.common.search")),1)]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])])]),_("div",Ne,[J((g(),S(C,{ref:"table",page:e.page,"onUpdate:page":t[3]||(t[3]=p=>e.page=p),showIndex:!0,showSelection:!1,data:e.tableData,onGetTableData:e.getTableData,onSelectionChange:e.handleSelectionChange},{default:m(()=>[a(d,{prop:"PayTypeName",label:"\u901A\u9053\u540D\u79F0",align:"center"}),a(d,{prop:"MerchantUid",label:"\u7528\u6237ID",align:"center"}),a(d,{prop:"MerchantName",label:"\u5546\u6237\u540D\u79F0",align:"center"}),a(d,{prop:"OrderAmount",label:"\u6536\u6B3E\u91D1\u989D",align:"center"}),a(d,{prop:"PlatformProfit",label:"\u8D39\u7387\u91D1\u989D",align:"center"}),a(d,{prop:"pintaiamount",label:"\u5E73\u53F0\u8D39\u7387",align:"center"}),a(d,{prop:"countsize",label:"\u6210\u529F\u7B14\u6570",align:"center"}),a(d,{label:"\u6210\u529F\u7387",align:"center"},{default:m(p=>[Y(F(parseFloat(p.row.countsize/p.row.countsizeuser*100).toFixed(2))+"% ",1)]),_:1})]),_:1},8,["page","data","onGetTableData","onSelectionChange"])),[[E,e.loading]])])]),_:1},8,["model","rules"])]),_:1},8,["layer"])}var Ye=v(Re,[["render",Me]]);const Ue=D({data(){return{myData:[],myDatav:[],table:[],tableDatak:[],resultArray:[],currentPage:1,pageSize:10,total:11}},components:{Table:R,Liuapi:Ye,Layer:G},props:{layer:{type:Object,default:()=>({show:!1,title:"",showButton:!0})}},created(){let e={page:this.page.index,pageSize:this.page.size,...this.query};this.getProductv(),this.getProductone(e)},setup(e,t){const n=(b,k)=>{let A={roadPoolCode:b.map(I=>I.RoadUid).join(","),uidcode:k};x(A).then(I=>{M({type:"success",message:"\u901A\u9053\u914D\u7F6E\u6210\u529F"}),E(s.value.length===1),f&&f.close()})},o=y(!0),s=y([]),u=y([]),l=T({show:!1,title:"\u914D\u7F6E",showButton:!0}),r=b=>{l.title="\u660E\u7EC6\u6570\u636E",l.row=b,l.show=!0},h=y(null),f=y(null);let d=y({Userid:"",RoadUid:"",RoadName:"",RoadRemark:"",ProductName:"",PayType:"",BasicRate:"",SettleFee:"",RoadTotalLimit:"",RoadEverydayLimit:"",SingleMinLimit:"",SingleMaxLimit:"",StartHour:"0",EndHour:"23",Params:"",roadPoolCode:[],uidcode:""});const C=b=>{u.value=b},c=T({input:"",startTime:"",endTime:"",supplierUid:"",payWayCode:"",merchantName:"",agentName:"",bankOrderId:"",orderStatus:"",roadPoolCode:""}),E=b=>{o.value=!0,b&&(p.index=1);let k={page:p.index,pageSize:p.size,...c};H(k).then(A=>{A.ProfitList,s.value=A.ProfitList}).catch(A=>{s.value=[],p.index=1,p.total=0}).finally(()=>{o.value=!1})},p=T({index:1,size:5,total:0}),$={roadUid:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D",trigger:"blur"}]};w();function w(){e.layer.row&&(c.roadPoolCode=e.layer.row.RoadPoolCode,d.value=JSON.parse(JSON.stringify(e.layer.row)))}return E(!0),{form:d,rules:$,layerDom:f,ruleForm:h,page:p,loading:o,tableData:s,getTableData:E,Table:R,getDatalunxun:U,peizhitody:r,handleSelectionChange:C,query:c,liuapi:l,handleDel:n,chooseData:u,deltongdao:x}},computed:{totalPages(){return Math.ceil(this.total/this.pageSize)}},methods:{goPrev(){this.currentPage>1&&(this.currentPage--,console.log(this.currentPage),this.getProdu())},goNext(){this.currentPage<this.totalPages&&(this.currentPage++,console.log("\u4E0B\u4E00\u6B65"),this.getProdu())},submit(e,t){let n={roadPoolCode:e.map(o=>o.RoadUid).join(","),uidcode:t};x(n).then(o=>{M({type:"success",message:"\u901A\u9053\u914D\u7F6E\u6210\u529F"}),this.getTableData(this.tableData.value.length===1)})},getProductv(){K().then(e=>{this.myData=e.ProductMap})},getProdu(){let e={page:this.currentPage,pageSize:this.pageSize};H(e).then(t=>{console.log(t.TotalCount),this.tableData=t.ProfitList,this.total=t.TotalCount})},getProductone(e){U(e).then(t=>{this.myDatav=t.RoadPool.RoadUidPool,this.resultArray=this.myDatav.split("||"),this.resultArray.forEach(n=>{this.tableData.forEach((o,s)=>{n===o.RoadUid&&this.$refs.table.toggleRowSelection(this.tableData[s],!0)})})})},addForm(e){le(e).then(t=>{this.$message({type:"success",message:"\u65B0\u589E\u6210\u529F"}),this.$emit("getTableData",!0),this.layerDom&&this.layerDom.close()})},updateForm(e){ie(e).then(t=>{this.$message({type:"success",message:"\u7F16\u8F91\u6210\u529F"}),this.$emit("getTableData",!1),this.layerDom&&this.layerDom.close()})}},watch:{active:{handler(e,t){this.$nextTick(()=>{e=="6"?this.table.forEach((n,o)=>{n.type=="1"&&this.$refs.table.toggleRowSelection(this.tableData[1],!0)}):e=="7"&&this.table.forEach((n,o)=>{n.type=="1"&&this.$refs.table.toggleRowSelection(this.tableData[1],!0)})})},immediate:!0,deep:!0}}}),Ie={class:"card-header"},Oe={class:"layout-container-table"};function He(e,t,n,o,s,u){const l=i("el-button"),r=i("el-table-column"),h=i("el-table"),f=i("Liuapi"),d=i("el-card"),C=W("loading");return g(),S(d,{class:"box-card",style:{"margin-top":"8px"}},{header:m(()=>[_("div",Ie,[_("span",{onClick:t[0]||(t[0]=(...c)=>e.goPrev&&e.goPrev(...c)),class:N({disabled:e.currentPage<=1})},"\u4E0A\u4E00\u9875",2),_("span",null,"\u7B2C "+F(e.currentPage)+" \u9875 / \u5171 "+F(e.totalPages)+" \u9875",1),_("span",{onClick:t[1]||(t[1]=(...c)=>e.goNext&&e.goNext(...c)),class:N({disabled:e.currentPage>=e.totalPages})},"\u4E0B\u4E00\u9875",2)])]),default:m(()=>[_("div",Oe,[J((g(),S(h,{ref:"table",page:e.page,"onUpdate:page":t[2]||(t[2]=c=>e.page=c),showIndex:!1,showSelection:!1,data:e.tableData,onGetTableData:e.getTableData,onSelectionChange:e.handleSelectionChange},{default:m(()=>[a(r,{prop:"MerchantName",label:"\u5546\u6237\u540D\u79F0",align:"center"},{default:m(c=>[a(l,{type:"danger",onClick:E=>e.peizhitody([c.row])},{default:m(()=>[Y(F(c.row.MerchantName),1)]),_:2},1032,["onClick"])]),_:1}),a(r,{prop:"PayTypeName",label:"\u901A\u9053\u540D\u79F0",align:"center"}),a(r,{prop:"TodaySubmit",label:"\u4ECA\u63D0\u4EA4\u989D",align:"center"}),a(r,{prop:"TodaySuccess",label:"\u4ECA\u6210\u529F\u989D",align:"center"}),a(r,{prop:"TodayProfit",label:"\u4ECA\u65E5\u4F63\u91D1",align:"center"}),a(r,{prop:"TodayTotal",label:"\u4ECA\u7ED3\u7B97\u989D",align:"center"}),a(r,{prop:"YesterdaySubmit",label:"\u6628\u63D0\u4EA4\u989D",align:"center"}),a(r,{prop:"YesterdaySuccess",label:"\u6628\u6210\u529F\u989D",align:"center"}),a(r,{prop:"YesterdayProfit",label:"\u6628\u65E5\u4F63\u91D1",align:"center"}),a(r,{prop:"YesterdayTotal",label:"\u6628\u7ED3\u7B97\u989D",align:"center"})]),_:1},8,["page","data","onGetTableData","onSelectionChange"])),[[C,e.loading]]),e.liuapi.show?(g(),S(f,{key:0,layer:e.liuapi,onGetTableData:e.getTableData},null,8,["layer","onGetTableData"])):re("",!0)])]),_:1})}var qe=v(Ue,[["render",He]]);const je={series:[{name:"\u8BBF\u95EE\u6765\u6E90",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:10},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"26",fontWeight:"bold",formatter:e=>e.name+`
`+e.value}},labelLine:{show:!1},data:[{value:1048,name:"\u641C\u7D22\u5F15\u64CE"}]}]};const Ve=D({components:{Chart:Q},setup(){const e=[],t=T(je);return j().then(n=>{t.series[0].data=n.MenuList}),{options:t,vodff:j,datarv:e}}}),Ge={class:"box"};function We(e,t,n,o,s,u){const l=i("Chart");return g(),P("div",Ge,[a(l,{option:e.options},null,8,["option"])])}var Je=v(Ve,[["render",We],["__scopeId","data-v-76c19c98"]]);const Ke=D({components:{barChart:Le,pieChart:qe,circleChart:Je},setup(){}});function Qe(e,t,n,o,s,u){const l=i("barChart"),r=i("pieChart"),h=i("el-col"),f=i("circleChart"),d=i("el-row");return g(),P("div",null,[a(l),a(d,{gutter:25},{default:m(()=>[a(h,{lg:13,md:24},{default:m(()=>[a(r)]),_:1}),a(h,{lg:11,md:24},{default:m(()=>[a(f)]),_:1})]),_:1})])}var Xe=v(Ke,[["render",Qe]]);const Ze=D({components:{Card:Pe,Charts:Xe,Communication:pe}}),et={class:"box"};function tt(e,t,n,o,s,u){const l=i("basic-template"),r=i("Card"),h=i("Charts"),f=i("Communication");return g(),P("div",et,[a(l),a(r),a(h),a(f)])}var ut=v(Ze,[["render",tt],["__scopeId","data-v-59ab1f0f"]]);export{ut as default};
